
CREATE TABLE PEDIDOS (
    id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    nome_cliente VARCHAR2(100) NOT NULL
);


CREATE TABLE PRODUTOS (
    id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    nome_produto VARCHAR2(100) NOT NULL
);


CREATE TABLE PEDIDO_ITEM (
    id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    pedido_id NUMBER NOT NULL REFERENCES PEDIDOS(id),
    produto_id NUMBER NOT NULL REFERENCES PRODUTOS(id),
    quantidade NUMBER NOT NULL CHECK (quantidade > 0),
    CONSTRAINT pk_pedido_produto UNIQUE (pedido_id, produto_id)
);